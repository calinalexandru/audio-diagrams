(()=>{"use strict";var a={3242(a,b,c){c.d(b,{Z:()=>i});var d=c(3303),e=c.n(d),f=c(7185),g=c.n(f),h=g()(e());h.push([a.id,"body {\n  margin: 0;\n  padding: 0;\n  font-family: Montserrat, sans-serif;\n  font-size: 12px;\n}\n\n@keyframes borderFlow {\n  0% {\n    border-color: #333;\n  }\n  50% {\n    border-color: #555;\n  }\n  100% {\n    border-color: #333;\n  }\n}\n\na:any-link {\n  color: #fff;\n  text-decoration: none;\n}\n",""]);let i=h},791(a,b,c){var d,e=c(5351),f=c(7535),g=c(633),h=c(8989),i=c(9543),j=c(4542);function k(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function l(){}function m(a){var b,c,e=(0,j.Ye)(function(){return null==a?d:d.isolate(a)},[a,]),f=(b=(0,j.eJ)(e.value),c=2,function(a){if(Array.isArray(a))return a}(b)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(b,c)||function a(b,c){if(b){if("string"==typeof b)return k(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return k(b,c)}}(b,c)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=f[0],h=f[1],i=(0,j.I4)(function(a){e.update(a)},[e,]);return(0,j.d4)(function(){var b=e.subscribe({next:null!==a?h:l});return function(){return b.unsubscribe()}},[e,a,]),[g,i,]}function n(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function o(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function p(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){o(a,b,c[b])})}return a}var q,r={OSCILLATOR:"oscillator",ANALYSER:"analyser",BIQUAD_FILTER:"biquadFilter",DELAY:"delay",PAN:"pan",GAIN:"gain",BUFFER:"buffer",OUTPUT:"output",MICROPHONE:"microphone"},s=function(a){if(Array.isArray(a))return n(a)}(q=Object.keys(r).filter(function(a){return"OUTPUT"!==a}))||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(q)||function a(b,c){if(b){if("string"==typeof b)return n(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return n(b,c)}}(q)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=[32,64,128,256,512,1024,2048,4096,8192,16384,32768,],u="&#13200",v=["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass",],w={SMALL:{WIDTH:122,HEIGHT:74},BIG:{WIDTH:194,HEIGHT:190}},x={OSCILLATOR:{POSITION:{x:100,y:500,width:"100px",height:"50px"},NODE:{type:r.OSCILLATOR,properties:{type:"sine",frequency:440,detune:0,duration:0}}},BUFFER:{POSITION:{x:413,y:500,width:"100px",height:"50px"},NODE:{type:r.BUFFER,properties:{detune:0,buffer:[],loop:!0,loopStart:0,loopEnd:0,playbackRate:1}}},ANALYSER:{POSITION:{x:613,y:500,width:"100px",height:"50px"},NODE:{type:r.ANALYSER,properties:{fftSize:2048,minDecibels:0,maxDecibels:0,smoothingTimeConstant:0}}},BIQUAD_FILTER:{POSITION:{x:250,y:550,width:"100px",height:"50px"},NODE:{type:r.BIQUAD_FILTER,properties:{type:"lowpass",frequency:1e3,Q:0,gain:0,detune:0}}},GAIN:{POSITION:{x:500,y:200,width:"100px",height:"50px"},NODE:{type:r.GAIN,properties:{gain:0}}},DELAY:{POSITION:{x:400,y:500,width:"100px",height:"50px"},NODE:{type:r.DELAY,properties:{delay:0}}},PAN:{POSITION:{x:200,y:700,width:"100px",height:"50px"},NODE:{type:r.PAN,properties:{pan:0}}},MICROPHONE:{NODE:{type:r.MICROPHONE,properties:{}},POSITION:{x:240,y:300,width:"100px",height:"50px"}},OUTPUT:{NODE:{type:r.OUTPUT,properties:{}},POSITION:{x:740,y:500}}},y=[p({},x.OUTPUT.NODE),],z=[p({},x.OUTPUT.POSITION),],A=c(2233),B=c(5743),C=c(9065),D=c(6307),E=c(2781);function F(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function G(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||H(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(a,b){if(a){if("string"==typeof a)return F(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return F(a,b)}}var I=function(a,b){return a.pipe((0,C.k)({op:A.D7,path:["connecting",]}),(0,D.M)(b),(0,E.U)(function(a){var b=G(a,2)[1].connecting;return function(a){var c=G(b,2),d=c[0],e=void 0===d?{}:d,f=e.direction,g=e.index,h=c[1],i=void 0===h?{}:h,j=i.direction,k=i.index,l="output"===f&&"input"===j,m="input"===f&&"output"===j;b.length>=2&&((l||m)&&a.wires.push({from:l?g:k,to:l?k:g}),a.connecting=[])}}))};let J=(0,B.l)(I);var K,L,M=(0,f.N)();K={nodes:y,wires:[],connecting:[],positions:z,scale:1},L=[M,],d=(0,i.U)(K,L),(0,g.j)(h.D),M.run(J);var N=c(9624),O=c.n(N),P=c(6808),Q=c.n(P),R=c(6892),S=c.n(R),T=c(6359),U=c.n(T),V=c(2716),W=c.n(V),X=c(3242),Y={};Y.setAttributes=U(),Y.insert=S().bind(null,"head"),Y.domAPI=Q(),Y.insertStyleElement=W(),O()(X.Z,Y),X.Z&&X.Z.locals&&X.Z.locals;var Z=c(8947);function $(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function _(){var a=$(["\n  font-family: inherit;\n  position: relative;\n  width: 100%;\n  margin: 2px 0;\n  padding: 2px;\n  outline: none;\n  background: transparent;\n  border: 1px solid #bfbf008a;\n  color: #fff;\n  box-sizing: border-box;\n  font-size: 12px;\n  padding: 2px 6px;\n  border-radius: 15px;\n  min-width: max-content;\n"]);return _=function(){return a},a}function aa(){var a=$(["\n  position: relative;\n  width: 100%;\n  height: 20px;\n  margin: 10px 0;\n"]);return aa=function(){return a},a}function ab(){var a=$(["\n  position: absolute;\n  top: -10px;\n  font-size: 9px;\n  text-shadow: 1px 1px #060606;\n  color: #fff;\n  left: 2px;\n"]);return ab=function(){return a},a}var ac=Z.Z.select(_()),ad=Z.Z.div(aa()),ae=Z.Z.div(ab());function af(a){var b=a.label,c=function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["label"]);return(0,e.h)(ad,null,b&&(0,e.h)(ae,null,b),(0,e.h)(ac,Object.assign({},c)),"\xa0")}var ag=c(2675),ah=c(2976),ai=c(2811),aj=c(6952),ak=c(3092),al=c(9172),am=c(5420);function an(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function ao(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||ap(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ap(a,b){if(a){if("string"==typeof a)return an(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return an(a,b)}}function aq(){var a=ao(m(null),2)[1],b=ao(m("wires"),1)[0],c=(0,j.I4)(function(b,c){a(function(a){a.positions[b]=c})},[a,]),d=(0,j.I4)(function(b,c,d){a(function(a){a.positions[b].x=c,a.positions[b].y=d})},[a,]),e=(0,j.I4)(function(c){a(function(a){var d;((function(a){if(Array.isArray(a))return an(a)})(d=new Set(b.map(function(a,b){return!![a.from,a.to,].includes(c)&&b})))||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(d)||ap(d)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort().reverse().forEach(function(b){!1!==b&&a.wires.splice(b,1)}),a.positions.splice(c,1),a.nodes.splice(c,1)})},[a,b,]);return{remove:e,setPosition:c,setXY:d}}function ar(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function as(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var at=c(7308);function au(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function av(){var a=au(["\n  background: #353535b0;\n  border-style: solid;\n  border-width: 2px;\n  cursor: grab;\n  border-radius: 15px;\n  box-sizing: border-box;\n  flex-flow: row;\n  display: flex;\n  position: absolute;\n  min-width: ","px;\n  min-height: ","px;\n  z-index: 100;\n\n  transition: width 0.5s, height 0.5s;\n\n  &:active {\n    cursor: grabbing;\n  }\n\n  &:hover {\n    border-style: double;\n  }\n"]);return av=function(){return a},a}function aw(){var a=au(["\n  box-sizing: border-box;\n  padding: 2px 8px;\n  display: flex;\n  flex-flow: column;\n  width: 100%;\n"]);return aw=function(){return a},a}function ax(){var a=au(["\n  user-select: none;\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  margin: 2px 0 6px 0;\n"]);return ax=function(){return a},a}function ay(){var a=au(["\n  box-sizing: border-box;\n  padding: 0 2px;\n  overflow: hidden;\n"]);return ay=function(){return a},a}function az(){var a=au(["\n  position: absolute;\n  width: 20px;\n  outline: none;\n  height: 20px;\n  top: 39%;\n  margin: 0;\n  padding: 0;\n  cursor: pointer;\n  border: none;\n  color: #fff;\n  font-size: 20px;\n  background: #a2a2a291;\n  opacity: 0.9;\n  ",";\n  ",";\n  ","\n  ","\n\n  &:hover {\n    background: #ffffff99;\n  }\n"]);return az=function(){return a},a}function aA(){var a=au(["\n  text-transform: uppercase;\n  color: #fff;\n  text-shadow: 1px 1px black;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n"]);return aA=function(){return a},a}function aB(){var a=au(["\n  cursor: pointer;\n  color: #fff;\n  position: absolute;\n  right: -14px;\n  background: unset;\n  border: 0;\n  font-size: 10px;\n  top: -10px;\n  text-shadow: 1px 1px black;\n  width: 17px;\n  height: 17px;\n  margin: 0;\n  padding: 0;\n\n  &:hover {\n    background: #cccccc33;\n    border-radius: 50%;\n  }\n\n  &:active {\n    background: #ff000033;\n  }\n"]);return aB=function(){return a},a}function aC(){var a=au(["\n  from, 20%, 53%, 80%, to {\n    transform: translate3d(0,0,0) rotate(90deg);\n  }\n\n  40%, 43% {\n    transform: translate3d(0, 3px, 0) rotate(90deg);\n  }\n\n  70% {\n    transform: translate3d(0, 2px, 0) rotate(90deg);\n  }\n\n  90% {\n    transform: translate3d(0,1px,0) rotate(90deg);\n  }\n"]);return aC=function(){return a},a}function aD(){var a=au(["\n  height: auto;\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  left: calc(50% - 10px);\n  bottom: -16px;\n  outline: none;\n  background: unset;\n  border: none;\n  color: #fff;\n  margin: 0;\n  padding: 0;\n  transform: rotate(90deg);\n  cursor: pointer;\n\n  &:hover {\n    animation: "," 1s infinite;\n  }\n\n"]);return aD=function(){return a},a}var aE=Z.Z.div(av(),w.SMALL.WIDTH,w.SMALL.HEIGHT),aF=Z.Z.div(aw()),aG=Z.Z.div(ax()),aH=Z.Z.div(ay()),aI=Z.Z.button(az(),function(a){return a.left&&"left: -20px;"},function(a){return a.right&&"right: -20px;"},function(a){return a.active&&"background: currentcolor;"},function(a){var b=a.connected,c=a.color;return b&&"background: ".concat(c,";")}),aJ=Z.Z.h3(aA()),aK=Z.Z.button(aB()),aL=(0,at.F4)(aC()),aM=Z.Z.button(aD(),aL);function aN(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function aO(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function aP(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||aQ(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aQ(a,b){if(a){if("string"==typeof a)return aN(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return aN(a,b)}}var aR="--x",aS="--y",aT=(0,ag.forwardRef)(function(a,b){var c,d,f,g,h,i,k,l,n,o,p,q,r,s,t,u,v,x,y,z,A,B,C,D=a.index,E=a.dragRef,F=a.color,G=a.style,H=a.children,I=a.name,J=a.canExpand,K=void 0!==J&&J,L=a.canRemove,M=void 0===L||L,N=a.canOutput,O=void 0===N||N,P=a.canInput,Q=void 0===P||P,R=a.isExpanded,S=void 0!==R&&R,T=aP(m("connecting"),1),U=T[0],V=aP(m("wires"),1),W=V[0],X=aP(m("nodes"),1),Y=X[0],Z=aP(m("positions"),1),$=Z[0],_=(0,ag.useMemo)(function(){return $[D]},[D,$,]);d=(c={elRef:b,dragRef:E,position:_,index:D,nodes:Y}).elRef,f=c.dragRef,g=c.xVarName,h=void 0===g?"--x":g,i=c.yVarName,k=void 0===i?"--y":i,l=c.position,n=c.index,o=c.nodes,p=function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(c,["elRef","dragRef","xVarName","yVarName","position","index","nodes"]),s=(q=m("scale"),r=1,function(a){if(Array.isArray(a))return a}(q)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(q,r)||function a(b,c){if(b){if("string"==typeof b)return ar(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return ar(b,c)}}(q,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t=s[0],u=aq(),v=u.setPosition,x=u.setXY,(0,j.d4)(function(){var a={},b=a.x,c=void 0===b?0:b,e=a.y,g=void 0===e?0:e,i=a.pos,j=void 0===i?{}:i;if(d.current&&f.current){var m,o=getComputedStyle(d.current)||{},p=o.width,q=void 0===p?"30px":p,r=o.height,s=void 0===r?"20px":r;c=(m=l).x,g=m.y;var u=c+c-c*t,w=g+g-g*t;d.current.style.setProperty(h,"".concat(u,"px")),d.current.style.setProperty(k,"".concat(w,"px")),j={x:c,y:g,width:q,height:s};var y=Number(q.replace("px","")),z=Number(s.replace("px",""));v(n,j);var A=(0,ah.R)(f.current,"mousedown").pipe((0,ai.w)(function(){return(0,aj.H)(100).pipe((0,ak.T)((0,ah.R)(document,"mousemove").pipe((0,al.b)(function(a){var b=a.clientX,e=a.clientY;c=b-y/2,g=e-z/2;var f=c+c-c*t,i=g+g-g*t;x(n,c,g),d.current.style.setProperty(h,"".concat(f,"px")),d.current.style.setProperty(k,"".concat(i,"px"))}),(0,am.R)((0,ah.R)(document,"mouseup")))),(0,am.R)((0,ah.R)(document,"mouseup")))})).subscribe(function(){return null});return function(){A.unsubscribe()}}},[null==f?void 0:f.current,null==d?void 0:d.current,o,n,null==p?void 0:p.showMore,t,]);var aa,ab,ac=(A=(y=m(),z=2,function(a){if(Array.isArray(a))return a}(y)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(y,z)||function a(b,c){if(b){if("string"==typeof b)return as(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return as(b,c)}}(y,z)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],B=(0,j.I4)(function(a){var b=a.from,c=a.to;A(function(a){a.wires.push({from:b,to:c})})},[A,]),C=(0,j.I4)(function(a,b){A(function(c){c.connecting.push({index:a,direction:b})})},[A,]),{addToConnecting:C,addToWiring:B}).addToConnecting,ad=aq().remove,ae=aP((0,ag.useState)(S),2),af=ae[0],an=ae[1],ao=(0,ag.useCallback)(function(a){return U.find(function(b){var c=b.index,d=b.direction;return D===c&&d===a})},[U,D,]),ap=(0,ag.useMemo)(function(){return U.find(function(a){return D===a.index})},[U,D,]),at=(0,ag.useCallback)(function(a){return W.find(function(b){var c=b.from,d=b.to;return"output"===a&&c===D||d===D&&"input"===a})},[W,D,]),au=(0,ag.useCallback)(function(a){a.preventDefault(),an(!af)},[af,]),av=(0,e.h)(aM,{onClick:au,dangerouslySetInnerHTML:{__html:af?"&laquo;":"&raquo;"}});return(0,e.h)(aE,{style:(aa=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){aO(a,b,c[b])})}return a}({top:"var(".concat(aS,")"),left:"var(".concat(aR,")"),borderColor:F},G),ab=(ab={width:af?w.BIG.WIDTH:"".concat(w.SMALL.WIDTH,"px"),height:af?w.BIG.HEIGHT:"".concat(w.SMALL.HEIGHT,"px")},ab),Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(ab)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(ab)).forEach(function(a){Object.defineProperty(aa,a,Object.getOwnPropertyDescriptor(ab,a))}),aa),ref:b},Q&&(0,e.h)(aI,{active:ao("input"),color:F,connected:at("input"),left:!0,onClick:function(){ap||ac(D,"input")}},"\xa0"),(0,e.h)(aF,{ref:E},(0,e.h)(aG,null,(0,e.h)(aJ,null,I)),(0,e.h)(aH,null,H)),M&&(0,e.h)(aK,{onClick:function(){ad(D)}},"X"),O&&(0,e.h)(aI,{right:!0,color:F,connected:at("output"),active:ao("output"),onClick:function(){ap||ac(D,"output")}},"\xa0"),K&&av)});let aU=aT;function aV(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function aW(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||aX(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aX(a,b){if(a){if("string"==typeof a)return aV(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return aV(a,b)}}function aY(a){var b=a.index,c=a.audioNode,d=(0,j.sO)(null),f=(0,j.sO)(),g=(0,j.sO)(),h=(0,j.sO)(),i=1024,k=new Uint8Array(i),l=aW(m("nodes"),1),n=l[0],o=aW(m(null),2),p=o[1],q=(0,j.I4)(function(){d.current=requestAnimationFrame(q);var a=null==f?void 0:null===(b=f.current)|| void 0===b?void 0:null===(e=b.getContext)|| void 0===e?void 0:e.call(b,"2d");if(a&&c){null==c||null===(g=c.getByteTimeDomainData)|| void 0===g||g.call(c,k),a.clearRect(0,0,f.current.width,f.current.height),a.lineWidth=2,a.strokeStyle="rgb(200, 200, 200)",a.beginPath();for(var b,e,g,h=1*f.current.width/i,j=0,l=0;l<i;l+=1){var m=k[l]/128*f.current.height/2;0===l?a.moveTo(j,m):a.lineTo(j,m),j+=h}a.lineTo(f.current.width,f.current.height/2),a.stroke()}},[c,null==f?void 0:f.current,b,]);(0,j.d4)(function(){return q(),function(){cancelAnimationFrame(d.current)}},[b,c,]);var r=function(a){p(function(c){c.nodes[b].properties.fftSize=a})};return(0,e.h)(aU,{ref:g,dragRef:h,color:"blue",index:b,name:"Analyser",canExpand:!0},(0,e.h)("div",{style:{display:"flex",flexDirection:"column"}},(0,e.h)("canvas",{ref:f,width:"340",height:"210"}),(0,e.h)(af,{label:"FFT",value:n[b].properties.fftSize,onChange:function(a){r(a.target.value)}},t.map(function(a){return(0,e.h)("option",{value:a},a)}))))}function aZ(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function a$(){var a=aZ(["\n  font-family: inherit;\n  position: relative;\n  width: 70px;\n  margin: 2px 0;\n  padding: 2px;\n  outline: none;\n  background: transparent;\n  border: 1px solid #bfbf008a;\n  color: #fff;\n  box-sizing: border-box;\n  font-size: 12px;\n  padding: 2px 6px;\n  border-radius: 15px;\n"]);return a$=function(){return a},a}function a_(){var a=aZ(["\n  position: relative;\n  height: 20px;\n  margin: 10px 0;\n"]);return a_=function(){return a},a}function a0(){var a=aZ(["\n  position: absolute;\n  top: -10px;\n  font-size: 9px;\n  text-shadow: 1px 1px #060606;\n  color: #fff;\n  left: 2px;\n"]);return a0=function(){return a},a}function a1(){var a=aZ(["\n  text-shadow: 1px 1px #060606;\n  color: #fff;\n"]);return a1=function(){return a},a}var a2=Z.Z.input(a$()),a3=Z.Z.div(a_()),a4=Z.Z.div(a0()),a5=Z.Z.span(a1());function a6(a){var b=a.label,c=a.units,d=function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["label","units"]);return(0,e.h)(a3,null,b&&(0,e.h)(a4,null,b),(0,e.h)(a2,Object.assign({},d)),"\xa0",c&&(0,e.h)(a5,{dangerouslySetInnerHTML:{__html:c}}))}function a7(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function a8(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function a9(){var a=a8(["\n  margin-top: 10px;\n"]);return a9=function(){return a},a}function ba(){var a=a8(["\n  width: 100%;\n  padding: 0;\n  margin: 4px 0;\n"]);return ba=function(){return a},a}function bb(){var a=a8(["\n  color: #fff;\n  display: flex;\n  justify-content: space-evenly;\n"]);return bb=function(){return a},a}function bc(){var a=a8([""]);return bc=function(){return a},a}function bd(){var a=a8([""]);return bd=function(){return a},a}var be=Z.Z.div(a9()),bf=Z.Z.input(ba()),bg=Z.Z.div(bb()),bh=Z.Z.div(bc()),bi=Z.Z.div(bd()),bj=(0,ag.forwardRef)(function(a,b){var c=a.value,d=a.label,f=void 0===d?"":d,g=a.orientation,h=function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["value","label","orientation"]),i="vertical"===g;return(0,e.h)(be,{style:{transform:i?"rotate(-90deg) translate(-60px, 70px)":"",transformOrigin:"left",height:i?"129px":"auto",width:i?"32px":"auto"}},(0,e.h)(bg,null,f&&(0,e.h)(bh,null,f),(0,e.h)(bi,null,c)),(0,e.h)(bf,Object.assign({style:function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){a7(a,b,c[b])})}return a}({},h.style),ref:b,type:"range",value:c},h)))});let bk=bj;function bl(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function bm(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||bn(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(a,b){if(a){if("string"==typeof a)return bl(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return bl(a,b)}}function bo(a){var b=a.index,c=(0,j.sO)(),d=(0,j.sO)(),f=(0,j.sO)(),g=(0,j.sO)(),h=bm(m("nodes"),1),i=h[0],k=bm(m(null),2),l=k[1],n=function(a){l(function(c){c.nodes[b].properties.type=a})},o=function(a){l(function(c){c.nodes[b].properties.gain=a})},p=function(a){l(function(c){c.nodes[b].properties.frequency=a})},q=function(a){l(function(c){c.nodes[b].properties.Q=a})},r=function(){var a=c.current.value,e=d.current.value,f=Math.sqrt(a*e);l(function(c){Object.assign(c.nodes[b].properties,{Q:f/(e-a),frequency:f})})};return(0,e.h)(aU,{ref:f,dragRef:g,color:"cornflowerblue",index:b,canExpand:!0,name:"BiquadFilter",style:{height:"auto"}},(0,e.h)("div",{style:{display:"flex"}},(0,e.h)("div",{style:{display:"flex",flexFlow:"column"}},(0,e.h)(af,{label:"Type",onChange:function(a){n(a.target.value)}},v.map(function(a){return(0,e.h)("option",{value:a},a)})),(0,e.h)(a6,{label:"Gain",type:"number",value:i[b].properties.gain,step:"1",max:"179",min:"0",onChange:function(a){o(a.target.value)}}),(0,e.h)(a6,{label:"Frequency",type:"number",value:i[b].properties.frequency,step:"1",max:22400,min:"0",units:u,onChange:function(a){p(a.target.value)}}),(0,e.h)(a6,{label:"Q",type:"number",value:i[b].properties.Q,step:"1",onChange:function(a){q(a.target.value)}})),(0,e.h)("div",{style:{display:"flex"}},(0,e.h)(bk,{min:"0",max:22400,ref:d,onChange:r,orientation:"vertical"}),(0,e.h)(bk,{min:"0",max:22400,ref:c,onChange:r,orientation:"vertical"}))))}function bp(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function bq(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||br(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function br(a,b){if(a){if("string"==typeof a)return bp(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return bp(a,b)}}function bs(a){var b=a.index,c=(0,j.sO)(),d=(0,j.sO)(),f=bq(m("nodes"),1),g=f[0],h=bq(m(null),2),i=h[1],k=function(a){i(function(c){c.nodes[b].properties.detune=a})},l=function(a){i(function(c){c.nodes[b].properties.loop=a})};return(0,e.h)(aU,{ref:c,dragRef:d,color:"red",index:b,name:"Buffer"},(0,e.h)("div",{style:{display:"flex",flexDirection:"column"}},(0,e.h)(af,{label:"Loop",onChange:function(a){l(!!a.target.value)}},(0,e.h)("option",{value:"1",selected:!0},"yes"),(0,e.h)("option",{value:"0"},"no")),(0,e.h)(a6,{label:"Value",type:"number",value:g[b].properties.detune,step:"1",max:"180",min:"0",onChange:function(a){k(a.target.value)}})))}function bt(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function bu(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||bv(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bv(a,b){if(a){if("string"==typeof a)return bt(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return bt(a,b)}}function bw(a){var b=a.index,c=(0,j.sO)(),d=(0,j.sO)(),f=bu(m("nodes"),1),g=f[0],h=bu(m(null),2),i=h[1],k=function(a){i(function(c){c.nodes[b].properties.delay=a})};return(0,e.h)(aU,{ref:c,dragRef:d,color:"cadetblue",index:b,name:"Delay"},(0,e.h)("div",null,(0,e.h)(a6,{label:"Value",type:"number",value:g[b].properties.delay,step:"1",max:"179",min:"0",units:"s",onChange:function(a){k(a.target.value)}})))}function bx(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function by(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||bz(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bz(a,b){if(a){if("string"==typeof a)return bx(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return bx(a,b)}}function bA(a){var b=a.index,c=(0,j.sO)(),d=(0,j.sO)(),f=by(m("nodes"),1),g=f[0],h=by(m(null),2),i=h[1],k=function(a){i(function(c){c.nodes[b].properties.gain=a})};return(0,e.h)(aU,{ref:c,dragRef:d,color:"purple",index:b,name:"Gain"},(0,e.h)("div",null,(0,e.h)(a6,{label:"Value",type:"number",value:g[b].properties.gain,step:"0.1",onChange:function(a){k(a.target.value)}})))}function bB(a){var b=a.index,c=(0,j.sO)(),d=(0,j.sO)();return(0,e.h)(aU,{index:b,dragRef:d,ref:c,color:"azure",name:"Microphone",canInput:!1})}function bC(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function bD(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||bE(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bE(a,b){if(a){if("string"==typeof a)return bC(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return bC(a,b)}}function bF(a){var b=a.index,c=(0,j.sO)(),d=(0,j.sO)(),f=bD(m("nodes"),1),g=f[0],h=bD(m(null),2),i=h[1],k=function(a){i(function(c){c.nodes[b].properties.type=a})},l=function(a){i(function(c){c.nodes[b].properties.frequency=a})},n=function(a){i(function(c){c.nodes[b].properties.detune=a})},o=function(a){i(function(c){c.nodes[b].properties.duration=a})};return(0,e.h)(aU,{ref:c,dragRef:d,index:b,color:"orange",canInput:!1,canExpand:!0,name:"Oscillator"},(0,e.h)("div",{style:{display:"flex",justifyContent:"space-between",flexFlow:"column"}},(0,e.h)(a6,{type:"number",label:"Frequency",units:u,value:g[b].properties.frequency,onChange:function(a){a.preventDefault(),l(Number(a.target.value))}}),(0,e.h)(a6,{type:"number",label:"Detune",value:g[b].properties.detune,onChange:function(a){a.preventDefault(),n(a.target.value)}}),(0,e.h)(a6,{type:"number",label:"Duration",value:g[b].properties.duration,onChange:function(a){a.preventDefault(),o(a.target.value)}}),(0,e.h)(af,{label:"Type",onChange:function(a){a.preventDefault(),k(a.target.value)}},(0,e.h)("option",{value:"sine"},"Sine"),(0,e.h)("option",{value:"square"},"Square"),(0,e.h)("option",{value:"sawtooth"},"Sawtooth"),(0,e.h)("option",{value:"triangle"},"Triangle"))))}function bG(a){var b=a.index,c=(0,j.sO)(),d=(0,j.sO)();return(0,e.h)(aU,{index:b,dragRef:d,ref:c,color:"green",canRemove:!1,name:"Speaker Output",canOutput:!1})}function bH(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function bI(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||bJ(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bJ(a,b){if(a){if("string"==typeof a)return bH(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return bH(a,b)}}function bK(a){var b=a.index,c=(0,j.sO)(),d=(0,j.sO)(),f=bI(m("nodes"),1),g=f[0],h=bI(m(null),2),i=h[1],k=function(a){i(function(c){c.nodes[b].properties.pan=a})};return(0,e.h)(aU,{ref:c,dragRef:d,color:"chocolate",index:b,name:"Panner"},(0,e.h)("div",null,(0,e.h)(bk,{value:g[b].properties.pan,step:"0.1",max:"1",min:"-1",onChange:function(a){k(a.target.value)}})))}var bL=c(3741),bM=c.n(bL);function bN(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function bO(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function bP(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){bO(f,d,e,g,h,"next",a)}function h(a){bO(f,d,e,g,h,"throw",a)}g(void 0)})}}var bQ=c(4887);function bR(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function bS(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function bT(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function bU(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){bT(a,b,c[b])})}return a}function bV(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||bW(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bW(a,b){if(a){if("string"==typeof a)return bS(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return bS(a,b)}}function bX(){var a,b,c=(a=["\n  font-family: inherit;\n  border: 0;\n  background: #ccc;\n  min-height: 30px;\n  text-transform: uppercase;\n  width: 100px;\n  font-size: 13px;\n  color: #fff;\n  background: #333;\n  ","\n  cursor: pointer;\n  margin: 0 5px;\n  padding: 3px 6px;\n  margin: 3px 6px;\n\n  &:hover {\n    opacity: 0.6;\n  }\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return bX=function(){return c},c}let bY=Z.Z.button(bX(),function(a){return"node"===a.color&&"\n      box-shadow: 2px 2px #888888;\n      background: #3b5177;\n      "});function bZ(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function b$(a){var b=a.color,c=a.style;return(0,e.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",style:function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){bZ(a,b,c[b])})}return a}({opacity:"0.8"},void 0===c?{}:c)},(0,e.h)("path",{fill:void 0===b?"#fff":b,d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"}))}function b_(){var a,b,c=(a=["\n  height: 1px;\n  border-top: 2px solid brown;\n  position: absolute;\n  z-index: 10;\n  padding: 5px 0;\n  cursor: pointer;\n  transform-origin: left center;\n\n  // made an arrow that kinda sux\n  // &:after {\n  //   content: '';\n  //   right: 8px;\n  //   height: 8px;\n  //   width: 8px;\n  //   border: solid #fff;\n  //   border-width: 0 1px 1px 0;\n  //   position: absolute;\n  //   margin-top: -5.5px;\n  //   margin-right: -8px;\n  //   transform: rotate(-45deg);\n  // }\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return b_=function(){return c},c}var b0=Z.Z.div(b_()),b1=18,b2=-18;function b3(a){var b=a.from,c=a.to,d=a.scale,f=void 0===d?1:d,g=a.onClick,h=b,i=c,j=Number(i.height.replace("px","")),k=Number(h.height.replace("px","")),l=h.x+Number(h.width.replace("px","")),m=i.x-l;l+=l-l*f;var n="".concat(l+b1,"px"),o=h.y+k/2;o+=o-o*f;var p="".concat(o,"px"),q=h.y-i.y;q+=q-q*f;var r=m;r+=r-r*f;var s=Math.sqrt(Math.pow(q,2)+Math.pow(r,2)),t=-(180*Math.atan2(q,r)/Math.PI*1),u="".concat(s+b2,"px");return(0,e.h)(b0,{onDoubleClick:g,style:{width:u,left:n,top:p,transform:"rotate(".concat(t,"deg)")}},"\xa0")}function b4(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function b5(){var a=b4(["\n  position: relative;\n  width: 100vw;\n  height: 100vh;\n  background-image: radial-gradient(#212121 10%, transparent 1%);\n  background-color: #000;\n  background-position: 0 0, 50px 50px;\n  background-size: 15px 15px;\n  user-select: none;\n"]);return b5=function(){return a},a}function b6(){var a=b4(["\n  position: absolute;\n  right: 0;\n  height: 100vh;\n  width: 120px;\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  justify-content: space-between;\n  gap: 10px;\n  background: #44444482;\n"]);return b6=function(){return a},a}function b7(){var a=b4(["\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  margin-top: 6px;\n"]);return b7=function(){return a},a}function b8(){var a=b4(["\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  margin-bottom: 6px;\n"]);return b8=function(){return a},a}function b9(){var a=b4(["\n  position: absolute;\n  bottom: 0;\n  left: 6px;\n  height: 50px;\n  width: 120px;\n  color: #fff;\n"]);return b9=function(){return a},a}function ca(){var a=b4(["\n  margin: 24px 0 12px 0;\n"]);return ca=function(){return a},a}function cb(){var a=b4(["\n  transform: scale(",");\n  transform-origin: top left;\n"]);return cb=function(){return a},a}var cc=Z.Z.div(b5()),cd=Z.Z.div(b6()),ce=Z.Z.div(b7()),cf=Z.Z.div(b8()),cg=Z.Z.div(b9()),ch=Z.Z.div(ca()),ci=Z.Z.div(cb(),function(a){return a.scale});function cj(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}(0,e.sY)((0,e.h)(function(){var a,b,c,d,f,g,h,i,k,l,n,o,p,q,t=(a=m(),b=1,function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||function a(b,c){if(b){if("string"==typeof b)return cj(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return cj(b,c)}}(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],u=t.nodes,v=void 0===u?[]:u,w=t.wires,y=void 0===w?[]:w,z=t.positions,A=void 0===z?[]:z,B=(t.connecting,t.scale);g=((f=(c=m(),d=2,function(a){if(Array.isArray(a))return a}(c)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(c,d)||function a(b,c){if(b){if("string"==typeof b)return bR(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return bR(b,c)}}(c,d)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))[0],f[1]),(0,j.d4)(function(){var a=(0,ah.R)(document,"keydown").pipe((0,bQ.h)(function(a){return"Escape"===a.key}),(0,al.b)(function(a){g(function(a){a.connecting=[]})})).subscribe(function(){return null});return function(){a.unsubscribe(),mousemove.unsubscribe()}},[g,]);var C=(i=(h={nodes:v,wires:y}).nodes,k=h.wires,l=(0,j.sO)(null),p=(n=(0,j.eJ)(0),o=2,function(a){if(Array.isArray(a))return a}(n)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(n,o)||function a(b,c){if(b){if("string"==typeof b)return bN(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return bN(b,c)}}(n,o)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],q=(0,j.sO)(Array(i.length).fill(null)),(0,j.d4)(function(){var a,b,c=new(window.AudioContext||window.webkitAudioContext),d=i.map((a=bP(bM().mark(function a(b){var d,e,f,g,h,i,j,k;return bM().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b.type!==r.OSCILLATOR){a.next=8;break}return(d=c.createOscillator()).type=b.properties.type,d.detune.setValueAtTime(b.properties.detune,c.currentTime),d.frequency.setValueAtTime(b.properties.frequency,c.currentTime),d.start(),b.properties.duration&&d.stop(c.currentTime+Number(b.properties.duration)),a.abrupt("return",d);case 8:if(b.type!==r.BIQUAD_FILTER){a.next=15;break}return(e=c.createBiquadFilter()).Q.value=b.properties.Q,e.frequency.value=b.properties.frequency,e.gain.value=b.properties.gain,e.type=b.properties.type,a.abrupt("return",e);case 15:if(b.type!==r.MICROPHONE){a.next=27;break}return a.prev=16,a.next=19,navigator.mediaDevices.getUserMedia({audio:!0});case 19:return l.current=a.sent,f=c.createMediaStreamSource(l.current),a.abrupt("return",f);case 24:a.prev=24,a.t0=a.catch(16);case 27:if(b.type!==r.BUFFER){a.next=35;break}return(g=c.createBufferSource()).loop=b.properties.loop,g.detune.setValueAtTime(b.properties.detune,c.currentTime),g.playbackRate.setValueAtTime(b.properties.playbackRate,c.currentTime),g.loopStart=b.properties.loopStart,g.loopEnd=b.properties.loopEnd,a.abrupt("return",g);case 35:if(b.type!==r.GAIN){a.next=39;break}return(h=c.createGain()).gain.value=b.properties.gain,a.abrupt("return",h);case 39:if(b.type!==r.ANALYSER){a.next=43;break}return(i=c.createAnalyser()).fftSize=b.properties.fftSize,a.abrupt("return",i);case 43:if(b.type!==r.DELAY){a.next=47;break}return(j=c.createDelay(179)).delayTime.setValueAtTime(b.properties.delay,c.currentTime),a.abrupt("return",j);case 47:if(b.type!==r.PAN){a.next=51;break}return(k=c.createStereoPanner()).pan.setValueAtTime(b.properties.pan,c.currentTime),a.abrupt("return",k);case 51:return a.abrupt("return",c.destination);case 52:case"end":return a.stop()}},a,null,[[16,24]])})),function(b){return a.apply(this,arguments)})),e=function(a){var b=a.analyser,d=a.buffer,e=a.dataArray,f=a.properties.duration,g=void 0===f?1:f;return new Promise(function(a,f){var h=c.createBuffer(2,c.sampleRate*g,c.sampleRate);try{setTimeout(function(){b.getFloatTimeDomainData(e),h.copyToChannel(e,0,0*b.frequencyBinCount),h.copyToChannel(e,1,0*b.frequencyBinCount),d.buffer=h,d.start(),a(!0)},1e3*g)}catch(i){f(i)}})};return k.forEach((b=bP(bM().mark(function a(b){var f,g,h,j,k;return bM().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d[b.from];case 2:return f=a.sent,a.next=5,d[b.to];case 5:if(g=a.sent,a.prev=6,i[b.to].type!==r.BUFFER){a.next=17;break}return h=c.createAnalyser(),f.connect(h),h.fftSize=32768,j=h.frequencyBinCount,k=new Float32Array(j),a.next=15,e({analyser:h,buffer:g,dataArray:k,properties:i[b.from].properties});case 15:a.next=18;break;case 17:f.connect(g);case 18:i[b.to].type===r.ANALYSER&&(q.current[b.to]=g,//! force component update due to using ref
p(new Date().getTime())),a.next=24;break;case 21:a.prev=21,a.t0=a.catch(6);case 24:case"end":return a.stop()}},a,null,[[6,21]])})),function(a){return b.apply(this,arguments)})),function(){var a,b;null===(a=l.current)|| void 0===a||null===(b=a.getTracks)|| void 0===b||b.call(a).forEach(function(a){return a.stop()}),d.forEach(function(a){var b;null==a||null===(b=a.disconnect)|| void 0===b||b.call(a)}),c.close()}},[i,k,]),q);(0,j.d4)(function(){},[null==C?void 0:C.current,]);var D,E,F,G,H,I,J,K,L=(D=bV(m("positions"),1)[0],E=bV(m(null),2)[1],F=(0,j.I4)(function(){E(function(a){a.nodes=[a.nodes.find(function(a){return a.type===r.OUTPUT}),],a.wires.length=0,a.connecting.length=0,a.positions=[D[0],]})},[D,]),G=(0,j.I4)(function(){E(function(a){a.connecting.length=0})},[]),H=(0,j.I4)(function(){E(function(a){a.wires.length=0,a.connecting.length=0})},[]),I=(0,j.I4)(function(a){E(function(b){b.nodes.push(bU({},x[a].NODE)),b.positions.push(bU({},x[a].POSITION))})},[]),J=(0,j.I4)(function(a){E(function(b){b.wires.splice(a,1)})},[]),K=(0,j.I4)(function(a){E(function(b){"in"===a?b.scale+=.04:"out"===a?b.scale-=.04:b.scale=a})},[]),{removeLine:J,add:I,clearAllNodes:F,clearAllWires:H,cancelConnection:G,zoom:K}),M=L.add,N=L.clearAllNodes,O=L.clearAllWires,P=L.cancelConnection,Q=L.removeLine,R=L.zoom,S=v.findIndex(function(a){return a.type===r.OUTPUT});return(0,e.h)(cc,null,(0,e.h)(cd,null,(0,e.h)(ce,null,s.map(function(a){return(0,e.h)(bY,{color:"node",onClick:function(){M(a)}},a)})),(0,e.h)(cf,null,(0,e.h)(bY,{onClick:N},"Remove all audio nodes"),(0,e.h)(bY,{onClick:P},"Cancel connection"),(0,e.h)(bY,{onClick:O},"Clear all wires"),(0,e.h)(ch,null,(0,e.h)("a",{href:"https://github.com/calinalexandru/audio-diagrams",target:"_blank",rel:"noreferrer"},(0,e.h)(b$,{color:"#fff"}))))),(0,e.h)(cg,null,(0,e.h)(bk,{label:"Zoom",min:"0.3",max:"1.5",value:B,step:"0.04",onChange:function(a){R(a.target.value)}})),(0,e.h)(ci,{scale:B},v.map(function(a,b){return a.type===r.OSCILLATOR&&(0,e.h)(bF,{index:b})||a.type===r.GAIN&&(0,e.h)(bA,{index:b})||a.type===r.BIQUAD_FILTER&&(0,e.h)(bo,{index:b})||a.type===r.PAN&&(0,e.h)(bK,{index:b})||a.type===r.MICROPHONE&&(0,e.h)(bB,{index:b})||a.type===r.BUFFER&&(0,e.h)(bs,{index:b})||a.type===r.ANALYSER&&(0,e.h)(aY,{audioNode:C.current[b],index:b})||a.type===r.DELAY&&(0,e.h)(bw,{index:b})}),(0,e.h)(bG,{index:S}),y.map(function(a,b){var c=a.from,d=a.to,f=null==A?void 0:A[d],g=null==A?void 0:A[c];return f&&g&&(0,e.h)(b3,{onClick:function(){Q(b)},scale:B,from:g,to:f})})))},null),document.body)}},b={};function c(d){var e=b[d];if(void 0!==e)return e.exports;var f=b[d]={id:d,exports:{}};return a[d](f,f.exports,c),f.exports}c.m=a,(()=>{var a=[];c.O=(b,d,e,f)=>{if(d){f=f||0;for(var g=a.length;g>0&&a[g-1][2]>f;g--)a[g]=a[g-1];a[g]=[d,e,f];return}for(var h=1/0,g=0;g<a.length;g++){for(var[d,e,f]=a[g],i=!0,j=0;j<d.length;j++)h>=f&&Object.keys(c.O).every(a=>c.O[a](d[j]))?d.splice(j--,1):(i=!1,f<h&&(h=f));if(i){a.splice(g--,1);var k=e();void 0!==k&&(b=k)}}return b}})(),c.n=a=>{var b=a&&a.__esModule?()=>a.default:()=>a;return c.d(b,{a:b}),b},c.d=(a,b)=>{for(var d in b)c.o(b,d)&&!c.o(a,d)&&Object.defineProperty(a,d,{enumerable:!0,get:b[d]})},c.o=(a,b)=>Object.prototype.hasOwnProperty.call(a,b),c.r=a=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},(()=>{var a={179:0};c.O.j=b=>0===a[b];var b=(b,d)=>{var e,f,[g,h,i]=d,j=0;if(g.some(b=>0!==a[b])){for(e in h)c.o(h,e)&&(c.m[e]=h[e]);if(i)var k=i(c)}for(b&&b(d);j<g.length;j++)f=g[j],c.o(a,f)&&a[f]&&a[f][0](),a[f]=0;return c.O(k)},d=self.webpackChunkaudio_node_dragger=self.webpackChunkaudio_node_dragger||[];d.forEach(b.bind(null,0)),d.push=b.bind(null,d.push.bind(d))})(),c.nc=void 0;var d=c.O(void 0,[752],()=>c(791));d=c.O(d)})()